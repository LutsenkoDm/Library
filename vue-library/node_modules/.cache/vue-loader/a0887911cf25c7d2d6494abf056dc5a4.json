{"remainingRequest":"C:\\Users\\Dmitrii\\WebstormProjects\\vue-library\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Dmitrii\\WebstormProjects\\vue-library\\src\\components\\LibraryEntityPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Dmitrii\\WebstormProjects\\vue-library\\src\\components\\LibraryEntityPage.vue","mtime":1616887148038},{"path":"C:\\Users\\Dmitrii\\WebstormProjects\\vue-library\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Dmitrii\\WebstormProjects\\vue-library\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Dmitrii\\WebstormProjects\\vue-library\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Dmitrii\\WebstormProjects\\vue-library\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgTGlicmFyeU5hdmJhciBmcm9tICIuLi9jb21wb25lbnRzL0xpYnJhcnlOYXZiYXIiOw0KaW1wb3J0IExpYnJhcnlJbnB1dFRleHRGaWVsZCBmcm9tICIuLi9jb21wb25lbnRzL0xpYnJhcnlJbnB1dFRleHRGaWVsZCI7DQppbXBvcnQgTGlicmFyeUVudGl0eVRhYmxlIGZyb20gIi4uL2NvbXBvbmVudHMvTGlicmFyeUVudGl0eVRhYmxlIjsNCmltcG9ydCBMaWJyYXJ5U2VhcmNoQmxvY2sgZnJvbSAiLi9MaWJyYXJ5U2VhcmNoQmxvY2siOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdMaWJyYXJ5RW50aXR5UGFnZScsDQogIHByb3BzOiBbDQogICAgJ3RhYmxlRmllbGRzJywNCiAgICAndGFibGVEYXRhJywNCiAgICAnZW50aXR5TmFtZScNCiAgXSwNCiAgY29tcG9uZW50czogew0KICAgIExpYnJhcnlOYXZiYXIsDQogICAgTGlicmFyeUlucHV0VGV4dEZpZWxkLA0KICAgIExpYnJhcnlFbnRpdHlUYWJsZSwNCiAgICBMaWJyYXJ5U2VhcmNoQmxvY2ssDQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgZmlsdGVyZWRPblNlYXJjaCgpIHsNCiAgICAgIHJldHVybiB0aGlzLnRhYmxlRGF0YS5maWx0ZXIoZGF0YSA9PiBKU09OLnN0cmluZ2lmeShkYXRhKS5pbmNsdWRlcyh0aGlzLnZhbHVlVG9TZWFyY2gpKQ0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIG9uU2VhcmNoIChkYXRhKSB7DQogICAgICB0aGlzLnZhbHVlVG9TZWFyY2ggPSBkYXRhLnZhbHVlVG9TZWFyY2gNCiAgICB9LA0KICAgIG9uSW5wdXQgKGRhdGEpIHsNCiAgICAgIHRoaXMuaW5wdXRWYWx1ZXNXaXRoRmllbGROYW1lcy5wdXNoKGRhdGEpDQogICAgfSwNCiAgICBvbklucHV0Rm9yVXBkYXRlIChkYXRhKSB7DQogICAgICB0aGlzLmlucHV0VmFsdWVzV2l0aEZpZWxkTmFtZXNGb3JVcGRhdGUgPSBkYXRhDQogICAgfSwNCiAgICBhc3luYyBhZGQgKCkgew0KICAgICAgbGV0IHN0cmluZ0Zvckpzb24gPSAneycNCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5pbnB1dFZhbHVlc1dpdGhGaWVsZE5hbWVzLmxlbmd0aDsgaSsrKSB7DQogICAgICAgIHN0cmluZ0Zvckpzb24gKz0gKCciJyArIHRoaXMuaW5wdXRWYWx1ZXNXaXRoRmllbGROYW1lc1tpXS5uYW1lSW5CYWNrZW5kDQogICAgICAgICAgICAgICAgICAgICAgKyAnIjoiJyArIHRoaXMuaW5wdXRWYWx1ZXNXaXRoRmllbGROYW1lc1tpXS52YWx1ZSArICciLCcpDQogICAgICB9DQogICAgICBzdHJpbmdGb3JKc29uID0gc3RyaW5nRm9ySnNvbi5zdWJzdHJpbmcoMCwgc3RyaW5nRm9ySnNvbi5sZW5ndGggLSAxKSArICd9Jw0KICAgICAgY29uc3QgYWRkUmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnaHR0cDovL2xvY2FsaG9zdDo4MDgxL2xpYi9hZGQnICsgdGhpcy5lbnRpdHlOYW1lLCB7DQogICAgICAgIG1ldGhvZDogJ1BPU1QnLA0KICAgICAgICBoZWFkZXJzOiB7DQogICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJw0KICAgICAgICB9LA0KICAgICAgICBib2R5OiBzdHJpbmdGb3JKc29uDQogICAgICB9KTsNCiAgICAgIGlmIChhZGRSZXNwb25zZS5vaykgew0KICAgICAgICBjb25zb2xlLmxvZygiYWRkIHN1Y2Nlc2Z1bGwiKQ0KICAgICAgICB0aGlzLnRhYmxlRGF0YS5wdXNoKGF3YWl0IGFkZFJlc3BvbnNlLmpzb24oKSkNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGNvbnNvbGUubG9nKCJhZGQgZmFpbCIpDQogICAgICAgIGFsZXJ0KCJhZGQgZmFpbCIpDQogICAgICB9DQogICAgfSwNCiAgICB1cGRhdGUgKCkgew0KICAgICAgdGhpcy4kZW1pdCgncmVsb2FkQXZhaWxhYmxlQm9va05hbWVzJykNCiAgICAgIGxldCB0cnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdGJvZHknKS5nZXRFbGVtZW50c0J5VGFnTmFtZSgndHInKQ0KICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0cnMubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgbGV0IHRkcyA9IHRyc1tpXS5nZXRFbGVtZW50c0J5VGFnTmFtZSgndGQnKQ0KICAgICAgICBpZiAodGRzW3Rkcy5sZW5ndGggLSAxXS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW5wdXQnKVswXS5jaGVja2VkKSB7DQogICAgICAgICAgdGhpcy50cnNUb1VwZGF0ZS5wdXNoKHRyc1tpXSkNCiAgICAgICAgICBmb3IgKGxldCBqID0gMTsgaiA8IHRkcy5sZW5ndGggLSAxOyBqKyspIHsNCiAgICAgICAgICAgIGxldCBwb3NzaWJsZUlucHV0VmFsdWVzID0gdGRzW2pdLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdkaXYnKQ0KICAgICAgICAgICAgdGRzW2pdLnN0eWxlLmJveFNoYWRvdz0nMCAwIDZweCA0cHggI2VlZmY0MScNCiAgICAgICAgICAgIGlmIChwb3NzaWJsZUlucHV0VmFsdWVzLmxlbmd0aCA9PT0gMCkgew0KICAgICAgICAgICAgICB0ZHNbal0uc2V0QXR0cmlidXRlKCdjb250ZW50ZWRpdGFibGUnLCAndHJ1ZScpDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICBwb3NzaWJsZUlucHV0VmFsdWVzWzBdLnN0eWxlLmRpc3BsYXk9J2lubGluZScNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN1cGRhdGVCdXR0b24nKS5zdHlsZS5kaXNwbGF5PSdub25lJw0KICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NhdmVVcGRhdGVCdXR0b24nKS5zdHlsZS5kaXNwbGF5PSdpbmxpbmUnDQogICAgfSwNCiAgICBhc3luYyBzYXZlVXBkYXRlICgpIHsNCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy50cnNUb1VwZGF0ZS5sZW5ndGg7IGkrKykgew0KICAgICAgICBsZXQgdGRzID0gdGhpcy50cnNUb1VwZGF0ZVtpXS5nZXRFbGVtZW50c0J5VGFnTmFtZSgndGQnKQ0KICAgICAgICBsZXQgc3RyaW5nRm9ySnNvbiA9ICd7Jw0KICAgICAgICBsZXQgdGRzV2l0aFBvc3NpYmxlVmFsdWVzQ291bnRlciA9IDANCiAgICAgICAgZm9yIChsZXQgaiA9IDE7IGogPCB0ZHMubGVuZ3RoIC0gMTsgaisrKSB7DQogICAgICAgICAgaWYgKHRkc1tqXS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnZGl2JykubGVuZ3RoID09PSAwKSB7DQogICAgICAgICAgICBzdHJpbmdGb3JKc29uICs9ICgnIicgKyB0aGlzLnRhYmxlRmllbGRzW2pdLm5hbWVJbkJhY2tlbmQNCiAgICAgICAgICAgICAgICArICciOiInICsgdGRzW2pdLnRleHRDb250ZW50ICsgJyIsJykNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgaWYgKHRoaXMuaW5wdXRWYWx1ZXNXaXRoRmllbGROYW1lc0ZvclVwZGF0ZVt0ZHNXaXRoUG9zc2libGVWYWx1ZXNDb3VudGVyXSAhPT0gdW5kZWZpbmVkKSB7DQogICAgICAgICAgICAgIHN0cmluZ0Zvckpzb24gKz0gKCciJyArIHRoaXMuaW5wdXRWYWx1ZXNXaXRoRmllbGROYW1lc0ZvclVwZGF0ZVt0ZHNXaXRoUG9zc2libGVWYWx1ZXNDb3VudGVyXS5uYW1lSW5CYWNrZW5kDQogICAgICAgICAgICAgICAgICArICciOiInICsgdGhpcy5pbnB1dFZhbHVlc1dpdGhGaWVsZE5hbWVzRm9yVXBkYXRlW3Rkc1dpdGhQb3NzaWJsZVZhbHVlc0NvdW50ZXJdLnZhbHVlICsgJyIsJykNCiAgICAgICAgICAgICAgdGRzV2l0aFBvc3NpYmxlVmFsdWVzQ291bnRlciA9IHRkc1dpdGhQb3NzaWJsZVZhbHVlc0NvdW50ZXIgKyAxDQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHN0cmluZ0Zvckpzb24gPSBzdHJpbmdGb3JKc29uLnN1YnN0cmluZygwLCBzdHJpbmdGb3JKc29uLmxlbmd0aCAtIDEpICsgJ30nDQogICAgICAgIGNvbnN0IHVwZGF0ZVJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MS9saWIvJw0KICAgICAgICAgICAgKyB0aGlzLmVudGl0eU5hbWVXaXRoRmlyc3RMZXR0ZXJJbkxvd2VyQ2FzZSArICcvJyArIHRkc1swXS50ZXh0Q29udGVudCwgew0KICAgICAgICAgIG1ldGhvZDogJ1BVVCcsDQogICAgICAgICAgaGVhZGVyczogew0KICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJw0KICAgICAgICAgIH0sDQogICAgICAgICAgYm9keTogc3RyaW5nRm9ySnNvbg0KICAgICAgICB9KTsNCiAgICAgICAgaWYgKHVwZGF0ZVJlc3BvbnNlLm9rKSB7DQogICAgICAgICAgY29uc29sZS5sb2coInVwZGF0ZSBzdWNjZXNmdWxsIikNCiAgICAgICAgICB0ZHMuZm9yRWFjaCh0ZCA9PiB7DQogICAgICAgICAgICB0ZC5zdHlsZS5ib3hTaGFkb3c9J25vbmUnOw0KICAgICAgICAgICAgbGV0IHBvc3NpYmxlSW5wdXRWYWx1ZXMgPSB0ZC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnZGl2JykNCiAgICAgICAgICAgIGlmIChwb3NzaWJsZUlucHV0VmFsdWVzLmxlbmd0aCA9PT0gMCkgew0KICAgICAgICAgICAgICB0ZC5zZXRBdHRyaWJ1dGUoJ2NvbnRlbnRlZGl0YWJsZScsICdmYWxzZScpOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgcG9zc2libGVJbnB1dFZhbHVlc1swXS5zdHlsZS5kaXNwbGF5PSdub25lJw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0pDQogICAgICAgICAgdGRzW3Rkcy5sZW5ndGggLSAxXS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW5wdXQnKVswXS5jaGVja2VkID0gZmFsc2UNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB0ZHMuZm9yRWFjaCh0ZCA9PiB7DQogICAgICAgICAgICBsZXQgcG9zc2libGVJbnB1dFZhbHVlcyA9IHRkLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdkaXYnKQ0KICAgICAgICAgICAgaWYgKHBvc3NpYmxlSW5wdXRWYWx1ZXMubGVuZ3RoID09PSAwKSB7DQogICAgICAgICAgICAgIHRkLnNldEF0dHJpYnV0ZSgnY29udGVudGVkaXRhYmxlJywgJ2ZhbHNlJyk7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICBwb3NzaWJsZUlucHV0VmFsdWVzWzBdLnN0eWxlLmRpc3BsYXk9J25vbmUnDQogICAgICAgICAgICB9DQogICAgICAgICAgfSkNCiAgICAgICAgICBjb25zb2xlLmxvZygidXBkYXRlIGZhaWwiKQ0KICAgICAgICAgIGFsZXJ0KCJ1cGRhdGUgZmFpbCIpDQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIHRoaXMuJGVtaXQoJ3JlbG9hZEF2YWlsYWJsZUJvb2tOYW1lcycpDQogICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdXBkYXRlQnV0dG9uJykuc3R5bGUuZGlzcGxheT0naW5saW5lJw0KICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NhdmVVcGRhdGVCdXR0b24nKS5zdHlsZS5kaXNwbGF5PSdub25lJw0KICAgIH0sDQogICAgYXN5bmMgZGVsZXRlQWxsU2VsZWN0ZWRJdGVtcygpIHsNCiAgICAgIGxldCBlbnRpdHlJZHNUb0RlbGV0ZSA9IFtdDQogICAgICBsZXQgdHJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Rib2R5JykuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3RyJykNCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHJzLmxlbmd0aDsgaSsrKSB7DQogICAgICAgIGxldCB0ZHMgPSB0cnNbaV0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3RkJykNCiAgICAgICAgbGV0IGNoZWNrQm94ZXMgPSB0ZHNbdGRzLmxlbmd0aCAtIDFdLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbnB1dCcpDQogICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgY2hlY2tCb3hlcy5sZW5ndGg7IGorKykgew0KICAgICAgICAgIGlmIChjaGVja0JveGVzW2pdLmNoZWNrZWQpIHsNCiAgICAgICAgICAgIGVudGl0eUlkc1RvRGVsZXRlLnB1c2godGRzWzBdLnRleHRDb250ZW50KQ0KICAgICAgICAgICAgY2hlY2tCb3hlc1tqXS5jaGVja2VkID0gZmFsc2UNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIGZvciAobGV0IGVudGl0eUlkVG9EZWxldGUgb2YgZW50aXR5SWRzVG9EZWxldGUpIHsNCiAgICAgICAgY29uc3QgZGVsZXRlUmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnaHR0cDovL2xvY2FsaG9zdDo4MDgxL2xpYi8nDQogICAgICAgICAgICArIHRoaXMuZW50aXR5TmFtZVdpdGhGaXJzdExldHRlckluTG93ZXJDYXNlICsgJy8nICsgZW50aXR5SWRUb0RlbGV0ZSwgew0KICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScNCiAgICAgICAgfSk7DQogICAgICAgIGlmIChkZWxldGVSZXNwb25zZS5vaykgew0KICAgICAgICAgIGNvbnNvbGUubG9nKCJkZWxldGUgc3VjY2VzZnVsbCIpDQogICAgICAgICAgZm9yIChsZXQgaXRlbSBvZiB0aGlzLnRhYmxlRGF0YSkgew0KICAgICAgICAgICAgaWYgKGl0ZW0uaWQgPT0gZW50aXR5SWRUb0RlbGV0ZSkgew0KICAgICAgICAgICAgICB0aGlzLnRhYmxlRGF0YS5zcGxpY2UodGhpcy50YWJsZURhdGEuaW5kZXhPZihpdGVtKSwgMSkNCiAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgY29uc29sZS5sb2coImRlbGV0ZSBmYWlsIikNCiAgICAgICAgICBhbGVydCgiZGVsZXRlIGZhaWwiKQ0KICAgICAgICB9DQogICAgICB9DQogICAgfQ0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBlbnRpdHlOYW1lV2l0aEZpcnN0TGV0dGVySW5Mb3dlckNhc2U6ICh0aGlzLmVudGl0eU5hbWVbMF0udG9Mb3dlckNhc2UoKSArIHRoaXMuZW50aXR5TmFtZS5zdWJzdHJpbmcoMSwgdGhpcy5lbnRpdHlOYW1lLmxlbmd0aCkpLA0KICAgICAgdmFsdWVUb1NlYXJjaDogJycsDQogICAgICBpbnB1dFZhbHVlc1dpdGhGaWVsZE5hbWVzOiBbXSwNCiAgICAgIGlucHV0VmFsdWVzV2l0aEZpZWxkTmFtZXNGb3JVcGRhdGU6IFtdLA0KICAgICAgdHJzVG9VcGRhdGU6IFtdDQogICAgfQ0KICB9DQp9DQoNCg=="},{"version":3,"sources":["LibraryEntityPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"LibraryEntityPage.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div id=\"journal\">\r\n    <LibraryNavbar/>\r\n\r\n    <div class=\"row\" style=\"margin-left: 9%; margin-top: 5%; margin-right: 1%\">\r\n      <div class=\"col s3\">\r\n        <form>\r\n          <LibraryInputTextField v-for=\"field in tableFields\" :key=\"field.nameToShow\" @input=\"onInput\"\r\n                                 v-bind:nameToShow=\"field.nameToShow\"\r\n                                 v-bind:nameInBackend=\"field.nameInBackend\"\r\n                                 v-bind:type=\"field.type\"\r\n                                 v-bind:possibleValuesList=\"field.possibleValuesList\"\r\n                                 v-bind:urlToFindMappedValue=\"field.urlToFindMappedValue\"\r\n          />\r\n          <div class=\"col s3\">\r\n            <button id=\"addButton\" class=\"btn-large left\" @click.prevent=\"add\">Add</button>\r\n            <button id=\"deleteButton\" class=\"btn-large left\" @click.prevent=\"deleteAllSelectedItems\">Delete selected</button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n\r\n      <div class=\"col s9\">\r\n        <div class=\"row\">\r\n          <LibrarySearchBlock style=\"margin-left: 12px\" @search=\"onSearch\"/>\r\n          <button id=\"updateButton\" class=\"btn left\" v-on:click=\"update\">Update selected</button>\r\n          <button id=\"saveUpdateButton\" class=\"btn left\" v-on:click=\"saveUpdate\" style=\"display: none\">Save update</button>\r\n        </div>\r\n        <LibraryEntityTable v-bind:table-fields=\"tableFields\" @input=\"onInput\" @inputForUpdate=\"onInputForUpdate\"\r\n                            v-bind:table-data=\"filteredOnSearch\">\r\n        </LibraryEntityTable>\r\n      </div>\r\n    </div>\r\n    <router-view/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport LibraryNavbar from \"../components/LibraryNavbar\";\r\nimport LibraryInputTextField from \"../components/LibraryInputTextField\";\r\nimport LibraryEntityTable from \"../components/LibraryEntityTable\";\r\nimport LibrarySearchBlock from \"./LibrarySearchBlock\";\r\n\r\nexport default {\r\n  name: 'LibraryEntityPage',\r\n  props: [\r\n    'tableFields',\r\n    'tableData',\r\n    'entityName'\r\n  ],\r\n  components: {\r\n    LibraryNavbar,\r\n    LibraryInputTextField,\r\n    LibraryEntityTable,\r\n    LibrarySearchBlock,\r\n  },\r\n  computed: {\r\n    filteredOnSearch() {\r\n      return this.tableData.filter(data => JSON.stringify(data).includes(this.valueToSearch))\r\n    }\r\n  },\r\n  methods: {\r\n    onSearch (data) {\r\n      this.valueToSearch = data.valueToSearch\r\n    },\r\n    onInput (data) {\r\n      this.inputValuesWithFieldNames.push(data)\r\n    },\r\n    onInputForUpdate (data) {\r\n      this.inputValuesWithFieldNamesForUpdate = data\r\n    },\r\n    async add () {\r\n      let stringForJson = '{'\r\n      for (let i = 0; i < this.inputValuesWithFieldNames.length; i++) {\r\n        stringForJson += ('\"' + this.inputValuesWithFieldNames[i].nameInBackend\r\n                      + '\":\"' + this.inputValuesWithFieldNames[i].value + '\",')\r\n      }\r\n      stringForJson = stringForJson.substring(0, stringForJson.length - 1) + '}'\r\n      const addResponse = await fetch('http://localhost:8081/lib/add' + this.entityName, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: stringForJson\r\n      });\r\n      if (addResponse.ok) {\r\n        console.log(\"add succesfull\")\r\n        this.tableData.push(await addResponse.json())\r\n      } else {\r\n        console.log(\"add fail\")\r\n        alert(\"add fail\")\r\n      }\r\n    },\r\n    update () {\r\n      this.$emit('reloadAvailableBookNames')\r\n      let trs = document.querySelector('#tbody').getElementsByTagName('tr')\r\n      for (let i = 0; i < trs.length; i++) {\r\n        let tds = trs[i].getElementsByTagName('td')\r\n        if (tds[tds.length - 1].getElementsByTagName('input')[0].checked) {\r\n          this.trsToUpdate.push(trs[i])\r\n          for (let j = 1; j < tds.length - 1; j++) {\r\n            let possibleInputValues = tds[j].getElementsByTagName('div')\r\n            tds[j].style.boxShadow='0 0 6px 4px #eeff41'\r\n            if (possibleInputValues.length === 0) {\r\n              tds[j].setAttribute('contenteditable', 'true')\r\n            } else {\r\n              possibleInputValues[0].style.display='inline'\r\n            }\r\n          }\r\n        }\r\n      }\r\n      document.querySelector('#updateButton').style.display='none'\r\n      document.querySelector('#saveUpdateButton').style.display='inline'\r\n    },\r\n    async saveUpdate () {\r\n      for (let i = 0; i < this.trsToUpdate.length; i++) {\r\n        let tds = this.trsToUpdate[i].getElementsByTagName('td')\r\n        let stringForJson = '{'\r\n        let tdsWithPossibleValuesCounter = 0\r\n        for (let j = 1; j < tds.length - 1; j++) {\r\n          if (tds[j].getElementsByTagName('div').length === 0) {\r\n            stringForJson += ('\"' + this.tableFields[j].nameInBackend\r\n                + '\":\"' + tds[j].textContent + '\",')\r\n          } else {\r\n            if (this.inputValuesWithFieldNamesForUpdate[tdsWithPossibleValuesCounter] !== undefined) {\r\n              stringForJson += ('\"' + this.inputValuesWithFieldNamesForUpdate[tdsWithPossibleValuesCounter].nameInBackend\r\n                  + '\":\"' + this.inputValuesWithFieldNamesForUpdate[tdsWithPossibleValuesCounter].value + '\",')\r\n              tdsWithPossibleValuesCounter = tdsWithPossibleValuesCounter + 1\r\n            }\r\n          }\r\n        }\r\n        stringForJson = stringForJson.substring(0, stringForJson.length - 1) + '}'\r\n        const updateResponse = await fetch('http://localhost:8081/lib/'\r\n            + this.entityNameWithFirstLetterInLowerCase + '/' + tds[0].textContent, {\r\n          method: 'PUT',\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          },\r\n          body: stringForJson\r\n        });\r\n        if (updateResponse.ok) {\r\n          console.log(\"update succesfull\")\r\n          tds.forEach(td => {\r\n            td.style.boxShadow='none';\r\n            let possibleInputValues = td.getElementsByTagName('div')\r\n            if (possibleInputValues.length === 0) {\r\n              td.setAttribute('contenteditable', 'false');\r\n            } else {\r\n              possibleInputValues[0].style.display='none'\r\n            }\r\n          })\r\n          tds[tds.length - 1].getElementsByTagName('input')[0].checked = false\r\n        } else {\r\n          tds.forEach(td => {\r\n            let possibleInputValues = td.getElementsByTagName('div')\r\n            if (possibleInputValues.length === 0) {\r\n              td.setAttribute('contenteditable', 'false');\r\n            } else {\r\n              possibleInputValues[0].style.display='none'\r\n            }\r\n          })\r\n          console.log(\"update fail\")\r\n          alert(\"update fail\")\r\n        }\r\n      }\r\n      this.$emit('reloadAvailableBookNames')\r\n      document.querySelector('#updateButton').style.display='inline'\r\n      document.querySelector('#saveUpdateButton').style.display='none'\r\n    },\r\n    async deleteAllSelectedItems() {\r\n      let entityIdsToDelete = []\r\n      let trs = document.querySelector('#tbody').getElementsByTagName('tr')\r\n      for (let i = 0; i < trs.length; i++) {\r\n        let tds = trs[i].getElementsByTagName('td')\r\n        let checkBoxes = tds[tds.length - 1].getElementsByTagName('input')\r\n        for (let j = 0; j < checkBoxes.length; j++) {\r\n          if (checkBoxes[j].checked) {\r\n            entityIdsToDelete.push(tds[0].textContent)\r\n            checkBoxes[j].checked = false\r\n          }\r\n        }\r\n      }\r\n      for (let entityIdToDelete of entityIdsToDelete) {\r\n        const deleteResponse = await fetch('http://localhost:8081/lib/'\r\n            + this.entityNameWithFirstLetterInLowerCase + '/' + entityIdToDelete, {\r\n          method: 'DELETE'\r\n        });\r\n        if (deleteResponse.ok) {\r\n          console.log(\"delete succesfull\")\r\n          for (let item of this.tableData) {\r\n            if (item.id == entityIdToDelete) {\r\n              this.tableData.splice(this.tableData.indexOf(item), 1)\r\n              break\r\n            }\r\n          }\r\n        } else {\r\n          console.log(\"delete fail\")\r\n          alert(\"delete fail\")\r\n        }\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      entityNameWithFirstLetterInLowerCase: (this.entityName[0].toLowerCase() + this.entityName.substring(1, this.entityName.length)),\r\n      valueToSearch: '',\r\n      inputValuesWithFieldNames: [],\r\n      inputValuesWithFieldNamesForUpdate: [],\r\n      trsToUpdate: []\r\n    }\r\n  }\r\n}\r\n\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n@import '~materialize-css/dist/css/materialize.min.css';\r\n\r\n#journal {\r\n  font-family: Avenir, Helvetica, Arial, sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  text-align: center;\r\n  color: #2c3e50;\r\n}\r\n\r\n#addButton {\r\n  margin-top: 25px;\r\n  margin-left: -12px;\r\n  white-space: nowrap;\r\n}\r\n\r\n#deleteButton {\r\n  margin-top: 25px;\r\n  margin-left: -12px;\r\n  white-space: nowrap;\r\n}\r\n\r\n#updateButton {\r\n  margin-top: 2%;\r\n  margin-left: 4%;\r\n}\r\n\r\n#saveUpdateButton {\r\n  margin-top: 2%;\r\n  margin-left: 4%;\r\n}\r\n\r\n</style>\r\n\r\n\r\n"]}]}