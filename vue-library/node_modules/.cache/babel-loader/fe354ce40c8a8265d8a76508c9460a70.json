{"remainingRequest":"C:\\Users\\Dmitrii\\WebstormProjects\\vue-library\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Dmitrii\\WebstormProjects\\vue-library\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Dmitrii\\WebstormProjects\\vue-library\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Dmitrii\\WebstormProjects\\vue-library\\src\\components\\LibraryEntityPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Dmitrii\\WebstormProjects\\vue-library\\src\\components\\LibraryEntityPage.vue","mtime":1616887148038},{"path":"C:\\Users\\Dmitrii\\WebstormProjects\\vue-library\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Dmitrii\\WebstormProjects\\vue-library\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Dmitrii\\WebstormProjects\\vue-library\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Dmitrii\\WebstormProjects\\vue-library\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIkM6L1VzZXJzL0RtaXRyaWkvV2Vic3Rvcm1Qcm9qZWN0cy92dWUtbGlicmFyeS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJDOi9Vc2Vycy9EbWl0cmlpL1dlYnN0b3JtUHJvamVjdHMvdnVlLWxpYnJhcnkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgTGlicmFyeU5hdmJhciBmcm9tICIuLi9jb21wb25lbnRzL0xpYnJhcnlOYXZiYXIiOwppbXBvcnQgTGlicmFyeUlucHV0VGV4dEZpZWxkIGZyb20gIi4uL2NvbXBvbmVudHMvTGlicmFyeUlucHV0VGV4dEZpZWxkIjsKaW1wb3J0IExpYnJhcnlFbnRpdHlUYWJsZSBmcm9tICIuLi9jb21wb25lbnRzL0xpYnJhcnlFbnRpdHlUYWJsZSI7CmltcG9ydCBMaWJyYXJ5U2VhcmNoQmxvY2sgZnJvbSAiLi9MaWJyYXJ5U2VhcmNoQmxvY2siOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0xpYnJhcnlFbnRpdHlQYWdlJywKICBwcm9wczogWyd0YWJsZUZpZWxkcycsICd0YWJsZURhdGEnLCAnZW50aXR5TmFtZSddLAogIGNvbXBvbmVudHM6IHsKICAgIExpYnJhcnlOYXZiYXI6IExpYnJhcnlOYXZiYXIsCiAgICBMaWJyYXJ5SW5wdXRUZXh0RmllbGQ6IExpYnJhcnlJbnB1dFRleHRGaWVsZCwKICAgIExpYnJhcnlFbnRpdHlUYWJsZTogTGlicmFyeUVudGl0eVRhYmxlLAogICAgTGlicmFyeVNlYXJjaEJsb2NrOiBMaWJyYXJ5U2VhcmNoQmxvY2sKICB9LAogIGNvbXB1dGVkOiB7CiAgICBmaWx0ZXJlZE9uU2VhcmNoOiBmdW5jdGlvbiBmaWx0ZXJlZE9uU2VhcmNoKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIHRoaXMudGFibGVEYXRhLmZpbHRlcihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShkYXRhKS5pbmNsdWRlcyhfdGhpcy52YWx1ZVRvU2VhcmNoKTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBvblNlYXJjaDogZnVuY3Rpb24gb25TZWFyY2goZGF0YSkgewogICAgICB0aGlzLnZhbHVlVG9TZWFyY2ggPSBkYXRhLnZhbHVlVG9TZWFyY2g7CiAgICB9LAogICAgb25JbnB1dDogZnVuY3Rpb24gb25JbnB1dChkYXRhKSB7CiAgICAgIHRoaXMuaW5wdXRWYWx1ZXNXaXRoRmllbGROYW1lcy5wdXNoKGRhdGEpOwogICAgfSwKICAgIG9uSW5wdXRGb3JVcGRhdGU6IGZ1bmN0aW9uIG9uSW5wdXRGb3JVcGRhdGUoZGF0YSkgewogICAgICB0aGlzLmlucHV0VmFsdWVzV2l0aEZpZWxkTmFtZXNGb3JVcGRhdGUgPSBkYXRhOwogICAgfSwKICAgIGFkZDogZnVuY3Rpb24gYWRkKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHN0cmluZ0Zvckpzb24sIGksIGFkZFJlc3BvbnNlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHN0cmluZ0Zvckpzb24gPSAneyc7CgogICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IF90aGlzMi5pbnB1dFZhbHVlc1dpdGhGaWVsZE5hbWVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgIHN0cmluZ0Zvckpzb24gKz0gJyInICsgX3RoaXMyLmlucHV0VmFsdWVzV2l0aEZpZWxkTmFtZXNbaV0ubmFtZUluQmFja2VuZCArICciOiInICsgX3RoaXMyLmlucHV0VmFsdWVzV2l0aEZpZWxkTmFtZXNbaV0udmFsdWUgKyAnIiwnOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHN0cmluZ0Zvckpzb24gPSBzdHJpbmdGb3JKc29uLnN1YnN0cmluZygwLCBzdHJpbmdGb3JKc29uLmxlbmd0aCAtIDEpICsgJ30nOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gZmV0Y2goJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MS9saWIvYWRkJyArIF90aGlzMi5lbnRpdHlOYW1lLCB7CiAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJwogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICBib2R5OiBzdHJpbmdGb3JKc29uCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgYWRkUmVzcG9uc2UgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgIGlmICghYWRkUmVzcG9uc2Uub2spIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiYWRkIHN1Y2Nlc2Z1bGwiKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX3RoaXMyLnRhYmxlRGF0YTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMTsKICAgICAgICAgICAgICAgIHJldHVybiBhZGRSZXNwb25zZS5qc29uKCk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBfY29udGV4dC50MSA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgICAgX2NvbnRleHQudDAucHVzaC5jYWxsKF9jb250ZXh0LnQwLCBfY29udGV4dC50MSk7CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiYWRkIGZhaWwiKTsKICAgICAgICAgICAgICAgIGFsZXJ0KCJhZGQgZmFpbCIpOwoKICAgICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKCkgewogICAgICB0aGlzLiRlbWl0KCdyZWxvYWRBdmFpbGFibGVCb29rTmFtZXMnKTsKICAgICAgdmFyIHRycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0Ym9keScpLmdldEVsZW1lbnRzQnlUYWdOYW1lKCd0cicpOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0cnMubGVuZ3RoOyBpKyspIHsKICAgICAgICB2YXIgdGRzID0gdHJzW2ldLmdldEVsZW1lbnRzQnlUYWdOYW1lKCd0ZCcpOwoKICAgICAgICBpZiAodGRzW3Rkcy5sZW5ndGggLSAxXS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW5wdXQnKVswXS5jaGVja2VkKSB7CiAgICAgICAgICB0aGlzLnRyc1RvVXBkYXRlLnB1c2godHJzW2ldKTsKCiAgICAgICAgICBmb3IgKHZhciBqID0gMTsgaiA8IHRkcy5sZW5ndGggLSAxOyBqKyspIHsKICAgICAgICAgICAgdmFyIHBvc3NpYmxlSW5wdXRWYWx1ZXMgPSB0ZHNbal0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2RpdicpOwogICAgICAgICAgICB0ZHNbal0uc3R5bGUuYm94U2hhZG93ID0gJzAgMCA2cHggNHB4ICNlZWZmNDEnOwoKICAgICAgICAgICAgaWYgKHBvc3NpYmxlSW5wdXRWYWx1ZXMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgICAgdGRzW2pdLnNldEF0dHJpYnV0ZSgnY29udGVudGVkaXRhYmxlJywgJ3RydWUnKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBwb3NzaWJsZUlucHV0VmFsdWVzWzBdLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lJzsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3VwZGF0ZUJ1dHRvbicpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzYXZlVXBkYXRlQnV0dG9uJykuc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUnOwogICAgfSwKICAgIHNhdmVVcGRhdGU6IGZ1bmN0aW9uIHNhdmVVcGRhdGUoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIGksIHRkcywgc3RyaW5nRm9ySnNvbiwgdGRzV2l0aFBvc3NpYmxlVmFsdWVzQ291bnRlciwgaiwgdXBkYXRlUmVzcG9uc2U7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGkgPSAwOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgICBpZiAoIShpIDwgX3RoaXMzLnRyc1RvVXBkYXRlLmxlbmd0aCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdGRzID0gX3RoaXMzLnRyc1RvVXBkYXRlW2ldLmdldEVsZW1lbnRzQnlUYWdOYW1lKCd0ZCcpOwogICAgICAgICAgICAgICAgc3RyaW5nRm9ySnNvbiA9ICd7JzsKICAgICAgICAgICAgICAgIHRkc1dpdGhQb3NzaWJsZVZhbHVlc0NvdW50ZXIgPSAwOwoKICAgICAgICAgICAgICAgIGZvciAoaiA9IDE7IGogPCB0ZHMubGVuZ3RoIC0gMTsgaisrKSB7CiAgICAgICAgICAgICAgICAgIGlmICh0ZHNbal0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2RpdicpLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgIHN0cmluZ0Zvckpzb24gKz0gJyInICsgX3RoaXMzLnRhYmxlRmllbGRzW2pdLm5hbWVJbkJhY2tlbmQgKyAnIjoiJyArIHRkc1tqXS50ZXh0Q29udGVudCArICciLCc7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMy5pbnB1dFZhbHVlc1dpdGhGaWVsZE5hbWVzRm9yVXBkYXRlW3Rkc1dpdGhQb3NzaWJsZVZhbHVlc0NvdW50ZXJdICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgICAgICAgIHN0cmluZ0Zvckpzb24gKz0gJyInICsgX3RoaXMzLmlucHV0VmFsdWVzV2l0aEZpZWxkTmFtZXNGb3JVcGRhdGVbdGRzV2l0aFBvc3NpYmxlVmFsdWVzQ291bnRlcl0ubmFtZUluQmFja2VuZCArICciOiInICsgX3RoaXMzLmlucHV0VmFsdWVzV2l0aEZpZWxkTmFtZXNGb3JVcGRhdGVbdGRzV2l0aFBvc3NpYmxlVmFsdWVzQ291bnRlcl0udmFsdWUgKyAnIiwnOwogICAgICAgICAgICAgICAgICAgICAgdGRzV2l0aFBvc3NpYmxlVmFsdWVzQ291bnRlciA9IHRkc1dpdGhQb3NzaWJsZVZhbHVlc0NvdW50ZXIgKyAxOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHN0cmluZ0Zvckpzb24gPSBzdHJpbmdGb3JKc29uLnN1YnN0cmluZygwLCBzdHJpbmdGb3JKc29uLmxlbmd0aCAtIDEpICsgJ30nOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA5OwogICAgICAgICAgICAgICAgcmV0dXJuIGZldGNoKCdodHRwOi8vbG9jYWxob3N0OjgwODEvbGliLycgKyBfdGhpczMuZW50aXR5TmFtZVdpdGhGaXJzdExldHRlckluTG93ZXJDYXNlICsgJy8nICsgdGRzWzBdLnRleHRDb250ZW50LCB7CiAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsCiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIGJvZHk6IHN0cmluZ0Zvckpzb24KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICB1cGRhdGVSZXNwb25zZSA9IF9jb250ZXh0Mi5zZW50OwoKICAgICAgICAgICAgICAgIGlmICh1cGRhdGVSZXNwb25zZS5vaykgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygidXBkYXRlIHN1Y2Nlc2Z1bGwiKTsKICAgICAgICAgICAgICAgICAgdGRzLmZvckVhY2goZnVuY3Rpb24gKHRkKSB7CiAgICAgICAgICAgICAgICAgICAgdGQuc3R5bGUuYm94U2hhZG93ID0gJ25vbmUnOwogICAgICAgICAgICAgICAgICAgIHZhciBwb3NzaWJsZUlucHV0VmFsdWVzID0gdGQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2RpdicpOwoKICAgICAgICAgICAgICAgICAgICBpZiAocG9zc2libGVJbnB1dFZhbHVlcy5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgICAgICAgICAgIHRkLnNldEF0dHJpYnV0ZSgnY29udGVudGVkaXRhYmxlJywgJ2ZhbHNlJyk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgIHBvc3NpYmxlSW5wdXRWYWx1ZXNbMF0uc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB0ZHNbdGRzLmxlbmd0aCAtIDFdLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbnB1dCcpWzBdLmNoZWNrZWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIHRkcy5mb3JFYWNoKGZ1bmN0aW9uICh0ZCkgewogICAgICAgICAgICAgICAgICAgIHZhciBwb3NzaWJsZUlucHV0VmFsdWVzID0gdGQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2RpdicpOwoKICAgICAgICAgICAgICAgICAgICBpZiAocG9zc2libGVJbnB1dFZhbHVlcy5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgICAgICAgICAgIHRkLnNldEF0dHJpYnV0ZSgnY29udGVudGVkaXRhYmxlJywgJ2ZhbHNlJyk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgIHBvc3NpYmxlSW5wdXRWYWx1ZXNbMF0uc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygidXBkYXRlIGZhaWwiKTsKICAgICAgICAgICAgICAgICAgYWxlcnQoInVwZGF0ZSBmYWlsIik7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBpKys7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICAgIF90aGlzMy4kZW1pdCgncmVsb2FkQXZhaWxhYmxlQm9va05hbWVzJyk7CgogICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3VwZGF0ZUJ1dHRvbicpLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lJzsKICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzYXZlVXBkYXRlQnV0dG9uJykuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGRlbGV0ZUFsbFNlbGVjdGVkSXRlbXM6IGZ1bmN0aW9uIGRlbGV0ZUFsbFNlbGVjdGVkSXRlbXMoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIGVudGl0eUlkc1RvRGVsZXRlLCB0cnMsIGksIHRkcywgY2hlY2tCb3hlcywgaiwgX2ksIF9lbnRpdHlJZHNUb0RlbGV0ZSwgZW50aXR5SWRUb0RlbGV0ZSwgZGVsZXRlUmVzcG9uc2UsIF9pdGVyYXRvciwgX3N0ZXAsIGl0ZW07CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBlbnRpdHlJZHNUb0RlbGV0ZSA9IFtdOwogICAgICAgICAgICAgICAgdHJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Rib2R5JykuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3RyJyk7CgogICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHRycy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICB0ZHMgPSB0cnNbaV0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3RkJyk7CiAgICAgICAgICAgICAgICAgIGNoZWNrQm94ZXMgPSB0ZHNbdGRzLmxlbmd0aCAtIDFdLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbnB1dCcpOwoKICAgICAgICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IGNoZWNrQm94ZXMubGVuZ3RoOyBqKyspIHsKICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2tCb3hlc1tqXS5jaGVja2VkKSB7CiAgICAgICAgICAgICAgICAgICAgICBlbnRpdHlJZHNUb0RlbGV0ZS5wdXNoKHRkc1swXS50ZXh0Q29udGVudCk7CiAgICAgICAgICAgICAgICAgICAgICBjaGVja0JveGVzW2pdLmNoZWNrZWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfaSA9IDAsIF9lbnRpdHlJZHNUb0RlbGV0ZSA9IGVudGl0eUlkc1RvRGVsZXRlOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBpZiAoIShfaSA8IF9lbnRpdHlJZHNUb0RlbGV0ZS5sZW5ndGgpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzY7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGVudGl0eUlkVG9EZWxldGUgPSBfZW50aXR5SWRzVG9EZWxldGVbX2ldOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA4OwogICAgICAgICAgICAgICAgcmV0dXJuIGZldGNoKCdodHRwOi8vbG9jYWxob3N0OjgwODEvbGliLycgKyBfdGhpczQuZW50aXR5TmFtZVdpdGhGaXJzdExldHRlckluTG93ZXJDYXNlICsgJy8nICsgZW50aXR5SWRUb0RlbGV0ZSwgewogICAgICAgICAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgZGVsZXRlUmVzcG9uc2UgPSBfY29udGV4dDMuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoIWRlbGV0ZVJlc3BvbnNlLm9rKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzE7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJkZWxldGUgc3VjY2VzZnVsbCIpOwogICAgICAgICAgICAgICAgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoX3RoaXM0LnRhYmxlRGF0YSk7CiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDEyOwoKICAgICAgICAgICAgICAgIF9pdGVyYXRvci5zKCk7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgICBpZiAoKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDIxOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpdGVtID0gX3N0ZXAudmFsdWU7CgogICAgICAgICAgICAgICAgaWYgKCEoaXRlbS5pZCA9PSBlbnRpdHlJZFRvRGVsZXRlKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDE5OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczQudGFibGVEYXRhLnNwbGljZShfdGhpczQudGFibGVEYXRhLmluZGV4T2YoaXRlbSksIDEpOwoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJicmVhayIsIDIxKTsKCiAgICAgICAgICAgICAgY2FzZSAxOToKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAyMToKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjY7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAyMzoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gMjM7CiAgICAgICAgICAgICAgICBfY29udGV4dDMudDAgPSBfY29udGV4dDNbImNhdGNoIl0oMTIpOwoKICAgICAgICAgICAgICAgIF9pdGVyYXRvci5lKF9jb250ZXh0My50MCk7CgogICAgICAgICAgICAgIGNhc2UgMjY6CiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDI2OwoKICAgICAgICAgICAgICAgIF9pdGVyYXRvci5mKCk7CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5maW5pc2goMjYpOwoKICAgICAgICAgICAgICBjYXNlIDI5OgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAzMzsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDMxOgogICAgICAgICAgICAgICAgY29uc29sZS5sb2coImRlbGV0ZSBmYWlsIik7CiAgICAgICAgICAgICAgICBhbGVydCgiZGVsZXRlIGZhaWwiKTsKCiAgICAgICAgICAgICAgY2FzZSAzMzoKICAgICAgICAgICAgICAgIF9pKys7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAzNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMywgbnVsbCwgW1sxMiwgMjMsIDI2LCAyOV1dKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZW50aXR5TmFtZVdpdGhGaXJzdExldHRlckluTG93ZXJDYXNlOiB0aGlzLmVudGl0eU5hbWVbMF0udG9Mb3dlckNhc2UoKSArIHRoaXMuZW50aXR5TmFtZS5zdWJzdHJpbmcoMSwgdGhpcy5lbnRpdHlOYW1lLmxlbmd0aCksCiAgICAgIHZhbHVlVG9TZWFyY2g6ICcnLAogICAgICBpbnB1dFZhbHVlc1dpdGhGaWVsZE5hbWVzOiBbXSwKICAgICAgaW5wdXRWYWx1ZXNXaXRoRmllbGROYW1lc0ZvclVwZGF0ZTogW10sCiAgICAgIHRyc1RvVXBkYXRlOiBbXQogICAgfTsKICB9Cn07"},{"version":3,"sources":["LibraryEntityPage.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div id=\"journal\">\r\n    <LibraryNavbar/>\r\n\r\n    <div class=\"row\" style=\"margin-left: 9%; margin-top: 5%; margin-right: 1%\">\r\n      <div class=\"col s3\">\r\n        <form>\r\n          <LibraryInputTextField v-for=\"field in tableFields\" :key=\"field.nameToShow\" @input=\"onInput\"\r\n                                 v-bind:nameToShow=\"field.nameToShow\"\r\n                                 v-bind:nameInBackend=\"field.nameInBackend\"\r\n                                 v-bind:type=\"field.type\"\r\n                                 v-bind:possibleValuesList=\"field.possibleValuesList\"\r\n                                 v-bind:urlToFindMappedValue=\"field.urlToFindMappedValue\"\r\n          />\r\n          <div class=\"col s3\">\r\n            <button id=\"addButton\" class=\"btn-large left\" @click.prevent=\"add\">Add</button>\r\n            <button id=\"deleteButton\" class=\"btn-large left\" @click.prevent=\"deleteAllSelectedItems\">Delete selected</button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n\r\n      <div class=\"col s9\">\r\n        <div class=\"row\">\r\n          <LibrarySearchBlock style=\"margin-left: 12px\" @search=\"onSearch\"/>\r\n          <button id=\"updateButton\" class=\"btn left\" v-on:click=\"update\">Update selected</button>\r\n          <button id=\"saveUpdateButton\" class=\"btn left\" v-on:click=\"saveUpdate\" style=\"display: none\">Save update</button>\r\n        </div>\r\n        <LibraryEntityTable v-bind:table-fields=\"tableFields\" @input=\"onInput\" @inputForUpdate=\"onInputForUpdate\"\r\n                            v-bind:table-data=\"filteredOnSearch\">\r\n        </LibraryEntityTable>\r\n      </div>\r\n    </div>\r\n    <router-view/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport LibraryNavbar from \"../components/LibraryNavbar\";\r\nimport LibraryInputTextField from \"../components/LibraryInputTextField\";\r\nimport LibraryEntityTable from \"../components/LibraryEntityTable\";\r\nimport LibrarySearchBlock from \"./LibrarySearchBlock\";\r\n\r\nexport default {\r\n  name: 'LibraryEntityPage',\r\n  props: [\r\n    'tableFields',\r\n    'tableData',\r\n    'entityName'\r\n  ],\r\n  components: {\r\n    LibraryNavbar,\r\n    LibraryInputTextField,\r\n    LibraryEntityTable,\r\n    LibrarySearchBlock,\r\n  },\r\n  computed: {\r\n    filteredOnSearch() {\r\n      return this.tableData.filter(data => JSON.stringify(data).includes(this.valueToSearch))\r\n    }\r\n  },\r\n  methods: {\r\n    onSearch (data) {\r\n      this.valueToSearch = data.valueToSearch\r\n    },\r\n    onInput (data) {\r\n      this.inputValuesWithFieldNames.push(data)\r\n    },\r\n    onInputForUpdate (data) {\r\n      this.inputValuesWithFieldNamesForUpdate = data\r\n    },\r\n    async add () {\r\n      let stringForJson = '{'\r\n      for (let i = 0; i < this.inputValuesWithFieldNames.length; i++) {\r\n        stringForJson += ('\"' + this.inputValuesWithFieldNames[i].nameInBackend\r\n                      + '\":\"' + this.inputValuesWithFieldNames[i].value + '\",')\r\n      }\r\n      stringForJson = stringForJson.substring(0, stringForJson.length - 1) + '}'\r\n      const addResponse = await fetch('http://localhost:8081/lib/add' + this.entityName, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: stringForJson\r\n      });\r\n      if (addResponse.ok) {\r\n        console.log(\"add succesfull\")\r\n        this.tableData.push(await addResponse.json())\r\n      } else {\r\n        console.log(\"add fail\")\r\n        alert(\"add fail\")\r\n      }\r\n    },\r\n    update () {\r\n      this.$emit('reloadAvailableBookNames')\r\n      let trs = document.querySelector('#tbody').getElementsByTagName('tr')\r\n      for (let i = 0; i < trs.length; i++) {\r\n        let tds = trs[i].getElementsByTagName('td')\r\n        if (tds[tds.length - 1].getElementsByTagName('input')[0].checked) {\r\n          this.trsToUpdate.push(trs[i])\r\n          for (let j = 1; j < tds.length - 1; j++) {\r\n            let possibleInputValues = tds[j].getElementsByTagName('div')\r\n            tds[j].style.boxShadow='0 0 6px 4px #eeff41'\r\n            if (possibleInputValues.length === 0) {\r\n              tds[j].setAttribute('contenteditable', 'true')\r\n            } else {\r\n              possibleInputValues[0].style.display='inline'\r\n            }\r\n          }\r\n        }\r\n      }\r\n      document.querySelector('#updateButton').style.display='none'\r\n      document.querySelector('#saveUpdateButton').style.display='inline'\r\n    },\r\n    async saveUpdate () {\r\n      for (let i = 0; i < this.trsToUpdate.length; i++) {\r\n        let tds = this.trsToUpdate[i].getElementsByTagName('td')\r\n        let stringForJson = '{'\r\n        let tdsWithPossibleValuesCounter = 0\r\n        for (let j = 1; j < tds.length - 1; j++) {\r\n          if (tds[j].getElementsByTagName('div').length === 0) {\r\n            stringForJson += ('\"' + this.tableFields[j].nameInBackend\r\n                + '\":\"' + tds[j].textContent + '\",')\r\n          } else {\r\n            if (this.inputValuesWithFieldNamesForUpdate[tdsWithPossibleValuesCounter] !== undefined) {\r\n              stringForJson += ('\"' + this.inputValuesWithFieldNamesForUpdate[tdsWithPossibleValuesCounter].nameInBackend\r\n                  + '\":\"' + this.inputValuesWithFieldNamesForUpdate[tdsWithPossibleValuesCounter].value + '\",')\r\n              tdsWithPossibleValuesCounter = tdsWithPossibleValuesCounter + 1\r\n            }\r\n          }\r\n        }\r\n        stringForJson = stringForJson.substring(0, stringForJson.length - 1) + '}'\r\n        const updateResponse = await fetch('http://localhost:8081/lib/'\r\n            + this.entityNameWithFirstLetterInLowerCase + '/' + tds[0].textContent, {\r\n          method: 'PUT',\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          },\r\n          body: stringForJson\r\n        });\r\n        if (updateResponse.ok) {\r\n          console.log(\"update succesfull\")\r\n          tds.forEach(td => {\r\n            td.style.boxShadow='none';\r\n            let possibleInputValues = td.getElementsByTagName('div')\r\n            if (possibleInputValues.length === 0) {\r\n              td.setAttribute('contenteditable', 'false');\r\n            } else {\r\n              possibleInputValues[0].style.display='none'\r\n            }\r\n          })\r\n          tds[tds.length - 1].getElementsByTagName('input')[0].checked = false\r\n        } else {\r\n          tds.forEach(td => {\r\n            let possibleInputValues = td.getElementsByTagName('div')\r\n            if (possibleInputValues.length === 0) {\r\n              td.setAttribute('contenteditable', 'false');\r\n            } else {\r\n              possibleInputValues[0].style.display='none'\r\n            }\r\n          })\r\n          console.log(\"update fail\")\r\n          alert(\"update fail\")\r\n        }\r\n      }\r\n      this.$emit('reloadAvailableBookNames')\r\n      document.querySelector('#updateButton').style.display='inline'\r\n      document.querySelector('#saveUpdateButton').style.display='none'\r\n    },\r\n    async deleteAllSelectedItems() {\r\n      let entityIdsToDelete = []\r\n      let trs = document.querySelector('#tbody').getElementsByTagName('tr')\r\n      for (let i = 0; i < trs.length; i++) {\r\n        let tds = trs[i].getElementsByTagName('td')\r\n        let checkBoxes = tds[tds.length - 1].getElementsByTagName('input')\r\n        for (let j = 0; j < checkBoxes.length; j++) {\r\n          if (checkBoxes[j].checked) {\r\n            entityIdsToDelete.push(tds[0].textContent)\r\n            checkBoxes[j].checked = false\r\n          }\r\n        }\r\n      }\r\n      for (let entityIdToDelete of entityIdsToDelete) {\r\n        const deleteResponse = await fetch('http://localhost:8081/lib/'\r\n            + this.entityNameWithFirstLetterInLowerCase + '/' + entityIdToDelete, {\r\n          method: 'DELETE'\r\n        });\r\n        if (deleteResponse.ok) {\r\n          console.log(\"delete succesfull\")\r\n          for (let item of this.tableData) {\r\n            if (item.id == entityIdToDelete) {\r\n              this.tableData.splice(this.tableData.indexOf(item), 1)\r\n              break\r\n            }\r\n          }\r\n        } else {\r\n          console.log(\"delete fail\")\r\n          alert(\"delete fail\")\r\n        }\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      entityNameWithFirstLetterInLowerCase: (this.entityName[0].toLowerCase() + this.entityName.substring(1, this.entityName.length)),\r\n      valueToSearch: '',\r\n      inputValuesWithFieldNames: [],\r\n      inputValuesWithFieldNamesForUpdate: [],\r\n      trsToUpdate: []\r\n    }\r\n  }\r\n}\r\n\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n@import '~materialize-css/dist/css/materialize.min.css';\r\n\r\n#journal {\r\n  font-family: Avenir, Helvetica, Arial, sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  text-align: center;\r\n  color: #2c3e50;\r\n}\r\n\r\n#addButton {\r\n  margin-top: 25px;\r\n  margin-left: -12px;\r\n  white-space: nowrap;\r\n}\r\n\r\n#deleteButton {\r\n  margin-top: 25px;\r\n  margin-left: -12px;\r\n  white-space: nowrap;\r\n}\r\n\r\n#updateButton {\r\n  margin-top: 2%;\r\n  margin-left: 4%;\r\n}\r\n\r\n#saveUpdateButton {\r\n  margin-top: 2%;\r\n  margin-left: 4%;\r\n}\r\n\r\n</style>\r\n\r\n\r\n"],"sourceRoot":"src/components"}]}